<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Privacy Monitor – Options</title>
  <style>
    body { font-family: "Segoe UI", system-ui, sans-serif; max-width: 560px; margin: 24px auto; padding: 0 16px; color: #1f2937; }
    h1 { font-size: 20px; margin-bottom: 8px; }
    h2 { font-size: 15px; margin: 20px 0 8px; color: #111827; }
    p { color: #6b7280; font-size: 14px; margin-bottom: 16px; }
    .section { margin-bottom: 24px; }
    .privacy-statement { background: #f0fdfa; border: 1px solid #99f6e4; border-radius: 8px; padding: 12px; margin-bottom: 20px; font-size: 13px; color: #0f766e; }
    a { color: #0891b2; }
    label { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px; cursor: pointer; }
    label input { margin-top: 2px; accent-color: #0891b2; }
    .label-text { flex: 1; }
    .label-title { font-weight: 600; color: #111827; }
    .label-desc { font-size: 12px; color: #6b7280; margin-top: 2px; }
    .btn { padding: 8px 14px; border-radius: 6px; font-size: 13px; cursor: pointer; border: 1px solid #d1d5db; background: #fff; color: #374151; }
    .btn:hover { background: #f3f4f6; }
    .btn-danger { border-color: #fca5a5; color: #b91c1c; }
    .btn-danger:hover { background: #fef2f2; }
    .clear-status { font-size: 12px; margin-top: 8px; min-height: 20px; }
    .clear-status.success { color: #059669; }
    .clear-status.error { color: #b91c1c; }
    .block-log { max-height: 120px; overflow-y: auto; font-size: 11px; font-family: ui-monospace, monospace; background: #f3f4f6; padding: 8px; border-radius: 6px; margin-top: 4px; }
    .block-log div { padding: 2px 0; border-bottom: 1px solid #e5e7eb; }
    .block-log div:last-child { border-bottom: none; }
    .block-log.empty { color: #9ca3af; }
  </style>
</head>
<body>
  <h1>Privacy Monitor</h1>
  <p class="privacy-statement"><strong>This extension does not collect or transmit personal data.</strong> All data is stored locally in your browser only. No analytics, telemetry, or tracking.</p>
  <p>Same tracker blocklist as the <a href="https://github.com/NullSec8/PrivacyMonitor" target="_blank">Privacy Monitor</a> desktop browser.</p>

  <h2>Privacy &amp; network</h2>
  <div class="section">
    <label>
      <input type="checkbox" id="privacyMode" checked>
      <span class="label-text">
        <span class="label-title">Privacy mode</span>
        <span class="label-desc">When on, disables other optional network requests (if any). Your IP in the popup is controlled separately below.</span>
      </span>
    </label>
    <label>
      <input type="checkbox" id="showPublicIp">
      <span class="label-text">
        <span class="label-title">Show public IP in popup</span>
        <span class="label-desc">When on, the popup fetches your public IP from ipify.org when you open it or click refresh. The IP is shown only in the popup and is not stored.</span>
      </span>
    </label>
  </div>

  <h2>Click protection</h2>
  <div class="section">
    <label>
      <input type="checkbox" id="blockClickHijacking" checked>
      <span class="label-text">
        <span class="label-title">Block click hijacking</span>
        <span class="label-desc">Intercept clicks and block redirects to ad/tracker domains; only allow navigation from trusted user clicks. Blocks window.open and location redirects when not triggered by a real click. In Aggressive mode, blocks all popups.</span>
      </span>
    </label>
    <p><strong>Blocked redirects log</strong> (local, for debugging):</p>
    <div class="block-log" id="blockLog"></div>
    <button type="button" class="btn" id="clearBlockLogBtn" style="margin-top: 6px;">Clear log</button>
  </div>

  <h2>Modes</h2>
  <div class="section">
    <p><strong>In the popup:</strong></p>
    <ul>
      <li><strong>Off</strong> – No blocking.</li>
      <li><strong>Block known</strong> – Blocks confirmed trackers and ads only.</li>
      <li><strong>Aggressive</strong> – Blocks known + heuristic/borderline (CMPs, some analytics, etc.).</li>
    </ul>
  </div>

  <h2>Data</h2>
  <div class="section">
    <p>All extension data (mode, preferences) is stored only in this browser. Nothing is sent to any server.</p>
    <button type="button" class="btn btn-danger" id="clearDataBtn">Clear all local data</button>
    <div class="clear-status" id="clearStatus"></div>
  </div>

  <div class="section">
    <p>For full privacy (anti-fingerprinting, referrer stripping, per-site profiles), use the <a href="http://187.77.71.151/" target="_blank">desktop app</a>.</p>
  </div>
  <script src="options.js"></script>
</body>
</html>
